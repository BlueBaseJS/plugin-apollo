26309f62bd83398192ca7b7ba0cb6e20
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var ReactNative = require('ReactNative');

var Platform = require('Platform');

var React = require('React');

var StyleSheet = require('StyleSheet');

var requireNativeComponent = require('requireNativeComponent');

var RCTSlider = requireNativeComponent('RCTSlider');

var Slider = function Slider(props, forwardedRef) {
  var style = StyleSheet.compose(styles.slider, props.style);

  var onValueChange = props.onValueChange && function (event) {
    var userEvent = true;

    if (Platform.OS === 'android') {
      userEvent = event.nativeEvent.fromUser;
    }

    props.onValueChange && userEvent && props.onValueChange(event.nativeEvent.value);
  };

  var onChange = onValueChange;

  var onSlidingComplete = props.onSlidingComplete && function (event) {
    props.onSlidingComplete && props.onSlidingComplete(event.nativeEvent.value);
  };

  return React.createElement(RCTSlider, (0, _extends2.default)({}, props, {
    ref: forwardedRef,
    style: style,
    onChange: onChange,
    onSlidingComplete: onSlidingComplete,
    onValueChange: onValueChange,
    enabled: !props.disabled,
    onStartShouldSetResponder: function onStartShouldSetResponder() {
      return true;
    },
    onResponderTerminationRequest: function onResponderTerminationRequest() {
      return false;
    }
  }));
};

var SliderWithRef = React.forwardRef(Slider);
SliderWithRef.defaultProps = {
  disabled: false,
  value: 0,
  minimumValue: 0,
  maximumValue: 1,
  step: 0
};
var styles;

if (Platform.OS === 'ios') {
  styles = StyleSheet.create({
    slider: {
      height: 40
    }
  });
} else {
  styles = StyleSheet.create({
    slider: {}
  });
}

module.exports = SliderWithRef;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNsaWRlci5qcyJdLCJuYW1lcyI6WyJSZWFjdE5hdGl2ZSIsInJlcXVpcmUiLCJQbGF0Zm9ybSIsIlJlYWN0IiwiU3R5bGVTaGVldCIsInJlcXVpcmVOYXRpdmVDb21wb25lbnQiLCJSQ1RTbGlkZXIiLCJTbGlkZXIiLCJwcm9wcyIsImZvcndhcmRlZFJlZiIsInN0eWxlIiwiY29tcG9zZSIsInN0eWxlcyIsInNsaWRlciIsIm9uVmFsdWVDaGFuZ2UiLCJldmVudCIsInVzZXJFdmVudCIsIk9TIiwibmF0aXZlRXZlbnQiLCJmcm9tVXNlciIsInZhbHVlIiwib25DaGFuZ2UiLCJvblNsaWRpbmdDb21wbGV0ZSIsImRpc2FibGVkIiwiU2xpZGVyV2l0aFJlZiIsImZvcndhcmRSZWYiLCJkZWZhdWx0UHJvcHMiLCJtaW5pbXVtVmFsdWUiLCJtYXhpbXVtVmFsdWUiLCJzdGVwIiwiY3JlYXRlIiwiaGVpZ2h0IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBVUE7Ozs7OztBQUVBLElBQU1BLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBM0I7O0FBQ0EsSUFBTUMsUUFBUSxHQUFHRCxPQUFPLENBQUMsVUFBRCxDQUF4Qjs7QUFDQSxJQUFNRSxLQUFLLEdBQUdGLE9BQU8sQ0FBQyxPQUFELENBQXJCOztBQUNBLElBQU1HLFVBQVUsR0FBR0gsT0FBTyxDQUFDLFlBQUQsQ0FBMUI7O0FBRUEsSUFBTUksc0JBQXNCLEdBQUdKLE9BQU8sQ0FBQyx3QkFBRCxDQUF0Qzs7QUFPQSxJQUFNSyxTQUFTLEdBQUdELHNCQUFzQixDQUFDLFdBQUQsQ0FBeEM7O0FBMktBLElBQU1FLE1BQU0sR0FBRyxTQUFUQSxNQUFTLENBQ2JDLEtBRGEsRUFFYkMsWUFGYSxFQUdWO0FBQ0gsTUFBTUMsS0FBSyxHQUFHTixVQUFVLENBQUNPLE9BQVgsQ0FDWkMsTUFBTSxDQUFDQyxNQURLLEVBRVpMLEtBQUssQ0FBQ0UsS0FGTSxDQUFkOztBQUtBLE1BQU1JLGFBQWEsR0FDakJOLEtBQUssQ0FBQ00sYUFBTixJQUNDLFVBQUNDLEtBQUQsRUFBa0I7QUFDakIsUUFBSUMsU0FBUyxHQUFHLElBQWhCOztBQUNBLFFBQUlkLFFBQVEsQ0FBQ2UsRUFBVCxLQUFnQixTQUFwQixFQUErQjtBQUc3QkQsTUFBQUEsU0FBUyxHQUFHRCxLQUFLLENBQUNHLFdBQU4sQ0FBa0JDLFFBQTlCO0FBQ0Q7O0FBQ0RYLElBQUFBLEtBQUssQ0FBQ00sYUFBTixJQUNFRSxTQURGLElBRUVSLEtBQUssQ0FBQ00sYUFBTixDQUFvQkMsS0FBSyxDQUFDRyxXQUFOLENBQWtCRSxLQUF0QyxDQUZGO0FBR0QsR0FaSDs7QUFjQSxNQUFNQyxRQUFRLEdBQUdQLGFBQWpCOztBQUVBLE1BQU1RLGlCQUFpQixHQUNyQmQsS0FBSyxDQUFDYyxpQkFBTixJQUNDLFVBQUNQLEtBQUQsRUFBa0I7QUFDakJQLElBQUFBLEtBQUssQ0FBQ2MsaUJBQU4sSUFDRWQsS0FBSyxDQUFDYyxpQkFBTixDQUF3QlAsS0FBSyxDQUFDRyxXQUFOLENBQWtCRSxLQUExQyxDQURGO0FBRUQsR0FMSDs7QUFPQSxTQUNFLG9CQUFDLFNBQUQsNkJBQ01aLEtBRE47QUFFRSxJQUFBLEdBQUcsRUFBRUMsWUFGUDtBQUdFLElBQUEsS0FBSyxFQUFFQyxLQUhUO0FBSUUsSUFBQSxRQUFRLEVBQUVXLFFBSlo7QUFLRSxJQUFBLGlCQUFpQixFQUFFQyxpQkFMckI7QUFNRSxJQUFBLGFBQWEsRUFBRVIsYUFOakI7QUFPRSxJQUFBLE9BQU8sRUFBRSxDQUFDTixLQUFLLENBQUNlLFFBUGxCO0FBUUUsSUFBQSx5QkFBeUIsRUFBRTtBQUFBLGFBQU0sSUFBTjtBQUFBLEtBUjdCO0FBU0UsSUFBQSw2QkFBNkIsRUFBRTtBQUFBLGFBQU0sS0FBTjtBQUFBO0FBVGpDLEtBREY7QUFhRCxDQTdDRDs7QUFnREEsSUFBTUMsYUFBYSxHQUFHckIsS0FBSyxDQUFDc0IsVUFBTixDQUFpQmxCLE1BQWpCLENBQXRCO0FBRUFpQixhQUFhLENBQUNFLFlBQWQsR0FBNkI7QUFDM0JILEVBQUFBLFFBQVEsRUFBRSxLQURpQjtBQUUzQkgsRUFBQUEsS0FBSyxFQUFFLENBRm9CO0FBRzNCTyxFQUFBQSxZQUFZLEVBQUUsQ0FIYTtBQUkzQkMsRUFBQUEsWUFBWSxFQUFFLENBSmE7QUFLM0JDLEVBQUFBLElBQUksRUFBRTtBQUxxQixDQUE3QjtBQVFBLElBQUlqQixNQUFKOztBQUNBLElBQUlWLFFBQVEsQ0FBQ2UsRUFBVCxLQUFnQixLQUFwQixFQUEyQjtBQUN6QkwsRUFBQUEsTUFBTSxHQUFHUixVQUFVLENBQUMwQixNQUFYLENBQWtCO0FBQ3pCakIsSUFBQUEsTUFBTSxFQUFFO0FBQ05rQixNQUFBQSxNQUFNLEVBQUU7QUFERjtBQURpQixHQUFsQixDQUFUO0FBS0QsQ0FORCxNQU1PO0FBQ0xuQixFQUFBQSxNQUFNLEdBQUdSLFVBQVUsQ0FBQzBCLE1BQVgsQ0FBa0I7QUFDekJqQixJQUFBQSxNQUFNLEVBQUU7QUFEaUIsR0FBbEIsQ0FBVDtBQUdEOztBQUVEbUIsTUFBTSxDQUFDQyxPQUFQLEdBQWtCVCxhQUFsQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGZvcm1hdFxuICogQGZsb3dcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IFJlYWN0TmF0aXZlID0gcmVxdWlyZSgnUmVhY3ROYXRpdmUnKTtcbmNvbnN0IFBsYXRmb3JtID0gcmVxdWlyZSgnUGxhdGZvcm0nKTtcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgnUmVhY3QnKTtcbmNvbnN0IFN0eWxlU2hlZXQgPSByZXF1aXJlKCdTdHlsZVNoZWV0Jyk7XG5cbmNvbnN0IHJlcXVpcmVOYXRpdmVDb21wb25lbnQgPSByZXF1aXJlKCdyZXF1aXJlTmF0aXZlQ29tcG9uZW50Jyk7XG5cbmltcG9ydCB0eXBlIHtJbWFnZVNvdXJjZX0gZnJvbSAnSW1hZ2VTb3VyY2UnO1xuaW1wb3J0IHR5cGUge1ZpZXdTdHlsZVByb3B9IGZyb20gJ1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge0NvbG9yVmFsdWV9IGZyb20gJ1N0eWxlU2hlZXRUeXBlcyc7XG5pbXBvcnQgdHlwZSB7Vmlld1Byb3BzfSBmcm9tICdWaWV3UHJvcFR5cGVzJztcblxuY29uc3QgUkNUU2xpZGVyID0gcmVxdWlyZU5hdGl2ZUNvbXBvbmVudCgnUkNUU2xpZGVyJyk7XG5cbnR5cGUgRXZlbnQgPSBPYmplY3Q7XG5cbnR5cGUgSU9TUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLyoqXG4gICAqIEFzc2lnbnMgYSBzaW5nbGUgaW1hZ2UgZm9yIHRoZSB0cmFjay4gT25seSBzdGF0aWMgaW1hZ2VzIGFyZSBzdXBwb3J0ZWQuXG4gICAqIFRoZSBjZW50ZXIgcGl4ZWwgb2YgdGhlIGltYWdlIHdpbGwgYmUgc3RyZXRjaGVkIHRvIGZpbGwgdGhlIHRyYWNrLlxuICAgKi9cbiAgdHJhY2tJbWFnZT86ID9JbWFnZVNvdXJjZSxcblxuICAvKipcbiAgICogQXNzaWducyBhIG1pbmltdW0gdHJhY2sgaW1hZ2UuIE9ubHkgc3RhdGljIGltYWdlcyBhcmUgc3VwcG9ydGVkLiBUaGVcbiAgICogcmlnaHRtb3N0IHBpeGVsIG9mIHRoZSBpbWFnZSB3aWxsIGJlIHN0cmV0Y2hlZCB0byBmaWxsIHRoZSB0cmFjay5cbiAgICovXG4gIG1pbmltdW1UcmFja0ltYWdlPzogP0ltYWdlU291cmNlLFxuXG4gIC8qKlxuICAgKiBBc3NpZ25zIGEgbWF4aW11bSB0cmFjayBpbWFnZS4gT25seSBzdGF0aWMgaW1hZ2VzIGFyZSBzdXBwb3J0ZWQuIFRoZVxuICAgKiBsZWZ0bW9zdCBwaXhlbCBvZiB0aGUgaW1hZ2Ugd2lsbCBiZSBzdHJldGNoZWQgdG8gZmlsbCB0aGUgdHJhY2suXG4gICAqL1xuICBtYXhpbXVtVHJhY2tJbWFnZT86ID9JbWFnZVNvdXJjZSxcblxuICAvKipcbiAgICogU2V0cyBhbiBpbWFnZSBmb3IgdGhlIHRodW1iLiBPbmx5IHN0YXRpYyBpbWFnZXMgYXJlIHN1cHBvcnRlZC5cbiAgICovXG4gIHRodW1iSW1hZ2U/OiA/SW1hZ2VTb3VyY2UsXG58fT47XG5cbnR5cGUgQW5kcm9pZFByb3BzID0gJFJlYWRPbmx5PHt8XG4gIC8qKlxuICAgKiBDb2xvciBvZiB0aGUgZm9yZWdyb3VuZCBzd2l0Y2ggZ3JpcC5cbiAgICogQHBsYXRmb3JtIGFuZHJvaWRcbiAgICovXG4gIHRodW1iVGludENvbG9yPzogP0NvbG9yVmFsdWUsXG58fT47XG5cbnR5cGUgUHJvcHMgPSAkUmVhZE9ubHk8e3xcbiAgLi4uVmlld1Byb3BzLFxuICAuLi5JT1NQcm9wcyxcbiAgLi4uQW5kcm9pZFByb3BzLFxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIHN0eWxlIGFuZCBsYXlvdXQgdGhlIGBTbGlkZXJgLiAgU2VlIGBTdHlsZVNoZWV0LmpzYCBhbmRcbiAgICogYFZpZXdTdHlsZVByb3BUeXBlcy5qc2AgZm9yIG1vcmUgaW5mby5cbiAgICovXG4gIHN0eWxlPzogP1ZpZXdTdHlsZVByb3AsXG5cbiAgLyoqXG4gICAqIEluaXRpYWwgdmFsdWUgb2YgdGhlIHNsaWRlci4gVGhlIHZhbHVlIHNob3VsZCBiZSBiZXR3ZWVuIG1pbmltdW1WYWx1ZVxuICAgKiBhbmQgbWF4aW11bVZhbHVlLCB3aGljaCBkZWZhdWx0IHRvIDAgYW5kIDEgcmVzcGVjdGl2ZWx5LlxuICAgKiBEZWZhdWx0IHZhbHVlIGlzIDAuXG4gICAqXG4gICAqICpUaGlzIGlzIG5vdCBhIGNvbnRyb2xsZWQgY29tcG9uZW50KiwgeW91IGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZVxuICAgKiB2YWx1ZSBkdXJpbmcgZHJhZ2dpbmcuXG4gICAqL1xuICB2YWx1ZT86ID9udW1iZXIsXG5cbiAgLyoqXG4gICAqIFN0ZXAgdmFsdWUgb2YgdGhlIHNsaWRlci4gVGhlIHZhbHVlIHNob3VsZCBiZVxuICAgKiBiZXR3ZWVuIDAgYW5kIChtYXhpbXVtVmFsdWUgLSBtaW5pbXVtVmFsdWUpLlxuICAgKiBEZWZhdWx0IHZhbHVlIGlzIDAuXG4gICAqL1xuICBzdGVwPzogP251bWJlcixcblxuICAvKipcbiAgICogSW5pdGlhbCBtaW5pbXVtIHZhbHVlIG9mIHRoZSBzbGlkZXIuIERlZmF1bHQgdmFsdWUgaXMgMC5cbiAgICovXG4gIG1pbmltdW1WYWx1ZT86ID9udW1iZXIsXG5cbiAgLyoqXG4gICAqIEluaXRpYWwgbWF4aW11bSB2YWx1ZSBvZiB0aGUgc2xpZGVyLiBEZWZhdWx0IHZhbHVlIGlzIDEuXG4gICAqL1xuICBtYXhpbXVtVmFsdWU/OiA/bnVtYmVyLFxuXG4gIC8qKlxuICAgKiBUaGUgY29sb3IgdXNlZCBmb3IgdGhlIHRyYWNrIHRvIHRoZSBsZWZ0IG9mIHRoZSBidXR0b24uXG4gICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBibHVlIGdyYWRpZW50IGltYWdlIG9uIGlPUy5cbiAgICovXG4gIG1pbmltdW1UcmFja1RpbnRDb2xvcj86ID9Db2xvclZhbHVlLFxuXG4gIC8qKlxuICAgKiBUaGUgY29sb3IgdXNlZCBmb3IgdGhlIHRyYWNrIHRvIHRoZSByaWdodCBvZiB0aGUgYnV0dG9uLlxuICAgKiBPdmVycmlkZXMgdGhlIGRlZmF1bHQgYmx1ZSBncmFkaWVudCBpbWFnZSBvbiBpT1MuXG4gICAqL1xuICBtYXhpbXVtVHJhY2tUaW50Q29sb3I/OiA/Q29sb3JWYWx1ZSxcblxuICAvKipcbiAgICogSWYgdHJ1ZSB0aGUgdXNlciB3b24ndCBiZSBhYmxlIHRvIG1vdmUgdGhlIHNsaWRlci5cbiAgICogRGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cbiAgICovXG4gIGRpc2FibGVkPzogP2Jvb2xlYW4sXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGNvbnRpbnVvdXNseSBjYWxsZWQgd2hpbGUgdGhlIHVzZXIgaXMgZHJhZ2dpbmcgdGhlIHNsaWRlci5cbiAgICovXG4gIG9uVmFsdWVDaGFuZ2U/OiA/RnVuY3Rpb24sXG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIHVzZXIgcmVsZWFzZXMgdGhlIHNsaWRlcixcbiAgICogcmVnYXJkbGVzcyBpZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQuIFRoZSBjdXJyZW50IHZhbHVlIGlzIHBhc3NlZFxuICAgKiBhcyBhbiBhcmd1bWVudCB0byB0aGUgY2FsbGJhY2sgaGFuZGxlci5cbiAgICovXG4gIG9uU2xpZGluZ0NvbXBsZXRlPzogP0Z1bmN0aW9uLFxuXG4gIC8qKlxuICAgKiBVc2VkIHRvIGxvY2F0ZSB0aGlzIHZpZXcgaW4gVUkgYXV0b21hdGlvbiB0ZXN0cy5cbiAgICovXG4gIHRlc3RJRD86ID9zdHJpbmcsXG58fT47XG5cbi8qKlxuICogQSBjb21wb25lbnQgdXNlZCB0byBzZWxlY3QgYSBzaW5nbGUgdmFsdWUgZnJvbSBhIHJhbmdlIG9mIHZhbHVlcy5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqXG4gKiBUaGUgZXhhbXBsZSBiZWxvdyBzaG93cyBob3cgdG8gdXNlIGBTbGlkZXJgIHRvIGNoYW5nZVxuICogYSB2YWx1ZSB1c2VkIGJ5IGBUZXh0YC4gVGhlIHZhbHVlIGlzIHN0b3JlZCB1c2luZ1xuICogdGhlIHN0YXRlIG9mIHRoZSByb290IGNvbXBvbmVudCAoYEFwcGApLiBUaGUgc2FtZSBjb21wb25lbnRcbiAqIHN1YnNjcmliZXMgdG8gdGhlIGBvblZhbHVlQ2hhbmdlYCAgb2YgYFNsaWRlcmAgYW5kIGNoYW5nZXNcbiAqIHRoZSB2YWx1ZSB1c2luZyBgc2V0U3RhdGVgLlxuICpcbiAqYGBgXG4gKiBpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuICogaW1wb3J0IHsgU3R5bGVTaGVldCwgVGV4dCwgVmlldywgU2xpZGVyIH0gZnJvbSAncmVhY3QtbmF0aXZlJztcbiAqXG4gKiBleHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICogICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICogICAgIHN1cGVyKHByb3BzKTtcbiAqICAgICB0aGlzLnN0YXRlID0ge1xuICogICAgICAgdmFsdWU6IDUwXG4gKiAgICAgfVxuICogICB9XG4gKlxuICogICBjaGFuZ2UodmFsdWUpIHtcbiAqICAgICB0aGlzLnNldFN0YXRlKCgpID0+IHtcbiAqICAgICAgIHJldHVybiB7XG4gKiAgICAgICAgIHZhbHVlOiBwYXJzZUZsb2F0KHZhbHVlKVxuICogICAgICAgfTtcbiAqICAgICB9KTtcbiAqICAgfVxuICpcbiAqICAgcmVuZGVyKCkge1xuICogICAgIGNvbnN0IHt2YWx1ZX0gPSB0aGlzLnN0YXRlO1xuICogICAgIHJldHVybiAoXG4gKiAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gKiAgICAgICAgIDxUZXh0IHN0eWxlPXtzdHlsZXMudGV4dH0+e1N0cmluZyh2YWx1ZSl9PC9UZXh0PlxuICogICAgICAgICA8U2xpZGVyXG4gKiAgICAgICAgICAgc3RlcD17MX1cbiAqICAgICAgICAgICBtYXhpbXVtVmFsdWU9ezEwMH1cbiAqICAgICAgICAgICBvblZhbHVlQ2hhbmdlPXt0aGlzLmNoYW5nZS5iaW5kKHRoaXMpfVxuICogICAgICAgICAgIHZhbHVlPXt2YWx1ZX0gLz5cbiAqICAgICAgIDwvVmlldz5cbiAqICAgICApO1xuICogICB9XG4gKiB9XG4gKlxuICogY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICogICBjb250YWluZXI6IHtcbiAqICAgICBmbGV4OiAxLFxuICogICAgIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLFxuICogICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJ1xuICogICB9LFxuICogICB0ZXh0OiB7XG4gKiAgICAgZm9udFNpemU6IDUwLFxuICogICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAqICAgfVxuICogfSk7XG4gKmBgYFxuICpcbiAqL1xuY29uc3QgU2xpZGVyID0gKFxuICBwcm9wczogUHJvcHMsXG4gIGZvcndhcmRlZFJlZj86ID9SZWFjdC5SZWY8J1JDVEFjdGl2aXR5SW5kaWNhdG9yVmlldyc+LFxuKSA9PiB7XG4gIGNvbnN0IHN0eWxlID0gU3R5bGVTaGVldC5jb21wb3NlKFxuICAgIHN0eWxlcy5zbGlkZXIsXG4gICAgcHJvcHMuc3R5bGUsXG4gICk7XG5cbiAgY29uc3Qgb25WYWx1ZUNoYW5nZSA9XG4gICAgcHJvcHMub25WYWx1ZUNoYW5nZSAmJlxuICAgICgoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICBsZXQgdXNlckV2ZW50ID0gdHJ1ZTtcbiAgICAgIGlmIChQbGF0Zm9ybS5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICAgIC8vIE9uIEFuZHJvaWQgdGhlcmUncyBhIHNwZWNpYWwgZmxhZyB0ZWxsaW5nIHVzIHRoZSB1c2VyIGlzXG4gICAgICAgIC8vIGRyYWdnaW5nIHRoZSBzbGlkZXIuXG4gICAgICAgIHVzZXJFdmVudCA9IGV2ZW50Lm5hdGl2ZUV2ZW50LmZyb21Vc2VyO1xuICAgICAgfVxuICAgICAgcHJvcHMub25WYWx1ZUNoYW5nZSAmJlxuICAgICAgICB1c2VyRXZlbnQgJiZcbiAgICAgICAgcHJvcHMub25WYWx1ZUNoYW5nZShldmVudC5uYXRpdmVFdmVudC52YWx1ZSk7XG4gICAgfSk7XG5cbiAgY29uc3Qgb25DaGFuZ2UgPSBvblZhbHVlQ2hhbmdlO1xuXG4gIGNvbnN0IG9uU2xpZGluZ0NvbXBsZXRlID1cbiAgICBwcm9wcy5vblNsaWRpbmdDb21wbGV0ZSAmJlxuICAgICgoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICBwcm9wcy5vblNsaWRpbmdDb21wbGV0ZSAmJlxuICAgICAgICBwcm9wcy5vblNsaWRpbmdDb21wbGV0ZShldmVudC5uYXRpdmVFdmVudC52YWx1ZSk7XG4gICAgfSk7XG5cbiAgcmV0dXJuIChcbiAgICA8UkNUU2xpZGVyXG4gICAgICB7Li4ucHJvcHN9XG4gICAgICByZWY9e2ZvcndhcmRlZFJlZn1cbiAgICAgIHN0eWxlPXtzdHlsZX1cbiAgICAgIG9uQ2hhbmdlPXtvbkNoYW5nZX1cbiAgICAgIG9uU2xpZGluZ0NvbXBsZXRlPXtvblNsaWRpbmdDb21wbGV0ZX1cbiAgICAgIG9uVmFsdWVDaGFuZ2U9e29uVmFsdWVDaGFuZ2V9XG4gICAgICBlbmFibGVkPXshcHJvcHMuZGlzYWJsZWR9XG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyPXsoKSA9PiB0cnVlfVxuICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3Q9eygpID0+IGZhbHNlfVxuICAgIC8+XG4gICk7XG59O1xuXG4vLyAkRmxvd0ZpeE1lIC0gVE9ETyBUMjkxNTY3MjEgYFJlYWN0LmZvcndhcmRSZWZgIGlzIG5vdCBkZWZpbmVkIGluIEZsb3csIHlldC5cbmNvbnN0IFNsaWRlcldpdGhSZWYgPSBSZWFjdC5mb3J3YXJkUmVmKFNsaWRlcik7XG5cblNsaWRlcldpdGhSZWYuZGVmYXVsdFByb3BzID0ge1xuICBkaXNhYmxlZDogZmFsc2UsXG4gIHZhbHVlOiAwLFxuICBtaW5pbXVtVmFsdWU6IDAsXG4gIG1heGltdW1WYWx1ZTogMSxcbiAgc3RlcDogMCxcbn07XG5cbmxldCBzdHlsZXM7XG5pZiAoUGxhdGZvcm0uT1MgPT09ICdpb3MnKSB7XG4gIHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgICBzbGlkZXI6IHtcbiAgICAgIGhlaWdodDogNDAsXG4gICAgfSxcbiAgfSk7XG59IGVsc2Uge1xuICBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gICAgc2xpZGVyOiB7fSxcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gKFNsaWRlcldpdGhSZWY6IENsYXNzPFJlYWN0TmF0aXZlLk5hdGl2ZUNvbXBvbmVudDxQcm9wcz4+KTtcbiJdfQ==