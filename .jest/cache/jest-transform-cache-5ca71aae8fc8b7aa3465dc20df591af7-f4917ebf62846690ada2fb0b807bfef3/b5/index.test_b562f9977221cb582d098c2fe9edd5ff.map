{"version":3,"sources":["/home/muzzamil/Documents/apollo/plugin-apollo/src/__tests__/index.test.tsx"],"names":[],"mappings":"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","sourcesContent":["import { BlueBase, BlueBaseApp } from '@bluebase/core';\nimport Plugin from '../index';\nimport { Text } from 'react-native';\n// import WithApolloProvider from '../withApolloProvider';\nimport React from 'react';\nimport { mount } from 'enzyme';\nimport { waitForElement } from 'enzyme-async-helpers';\n// import { HttpLink } from 'apollo-link-http';\n// import { sample } from '../__mocks__/index'\n\n\nconst CustomText = () => <Text>Everything is ok!</Text>;\n\ntest('Plugin correctly registered', async () => {\n\tconst BB = new BlueBase();\n\tawait BB.Plugins.register(Plugin);\n\n\texpect(BB.Plugins.has('plugin-apollo')).toBeTruthy();\n});\n\ntest('Plugin should throw error if httpLinkOptions config is not given', async () => {\n\n\tconst BB = new BlueBase();\n\t\n\tawait BB.Plugins.register(Plugin);\n\tlet message;\n\n\ttry {\n\t\t//await BB.boot();\n\n\t} catch (error) {\n\t\tmessage = error.message;\n\t}\n\tconst {HttpLink} :any = jest.mock('apollo-link-http');\n\tBB.Filters.run(\"bluebase.boot.end\",HttpLink);\n\n\n\texpect(message).toBe('HTTP Link URI not provided to Apollo');\n});\n\ntest('Plugin correctly registered', async () => {\n\n\t(global as any).fetch = jest.fn(() => new Promise(resolve => resolve()));\n\n\tconst wrapper = mount(\n\t\t<BlueBaseApp plugins={[Plugin]} configs={{ 'plugins.apollo.httpLinkOptions': { uri: 'www.google.com' } }}>\n\t\t\t<CustomText />\n\t\t</BlueBaseApp>\n\t);\n\tawait waitForElement(wrapper, CustomText);\n\texpect(wrapper.find('ApolloProvider').getElements().length).toBe(1);\n\n});\n\ntest('Plugin correctly registered', async () => {\n\tconst BB = new BlueBase();\n\tawait BB.Filters.register({\n\t\tevent: 'bluebase-boot-end',\n\t\tvalue: () => {\n\n\t\t}\n\t});\n\n});\n\n\n\n\n\n\n\n// class MockClass {\n// \tconstructor(public input) {\n\n// \t}\n// }\n\n// instanceof.input === \n\n\n\n// // let client:any;\n// // test('Plugin should be correctly registered', async () => {\n\n// // \t\t WithApolloProvider(client as any);\n// // });\n\n// mise(resolve => resolve()));\n\n// \tconst wrapper = mount(\n// \t\t<BlueBaseApp plugins={[Plugin]} configs={{ 'plugins.apollo.httpLinkOptions': { uri: 'www.g\n\n\n\n// describe('Apollo Plugin test', () => {\n// \tit('Test with Apollo Config', async () => {\n\n// \t\tconst BB = new BlueBase();\n// \t\tawait BB.Plugins.register(Plugin);\n// \t\t// ApolloPlugin.getClient();\n// \t\tconst Plugins = await BB.Plugins.has(Plugin);\n// \t\tawait BB.Configs.setValue('plugins.apollo.httpLinkOptions', { uri: 'http://graphql' });\n\n// \t\t// renderer.create (\n// \t\t// \t<BB.Components.Query>)\n// \t\t// </BB.Components.Query>\n\n// \t\tBB.boot();\n// \t\tconsole.log('Plugins====>', BB.Configs.getValue('plugins.apollo.httpLinkOptions'));\n// \t\tconst httpLinkOptions = BB.Configs.getValue('plugins.apollo.httpLinkOptions');\n// \t\texpect(httpLinkOptions).toEqual({uri: 'http://graphql'});\n\n// \t});\n// });\n\n"]}