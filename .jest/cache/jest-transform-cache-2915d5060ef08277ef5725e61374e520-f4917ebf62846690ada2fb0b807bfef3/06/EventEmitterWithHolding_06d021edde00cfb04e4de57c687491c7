182ce5a204466eb9f5bdbbdc044ded50
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var EventEmitterWithHolding = function () {
  function EventEmitterWithHolding(emitter, holder) {
    (0, _classCallCheck2.default)(this, EventEmitterWithHolding);
    (0, _defineProperty2.default)(this, "_emitter", void 0);
    (0, _defineProperty2.default)(this, "_eventHolder", void 0);
    (0, _defineProperty2.default)(this, "_currentEventToken", void 0);
    (0, _defineProperty2.default)(this, "_emittingHeldEvents", void 0);
    this._emitter = emitter;
    this._eventHolder = holder;
    this._currentEventToken = null;
    this._emittingHeldEvents = false;
  }

  (0, _createClass2.default)(EventEmitterWithHolding, [{
    key: "addListener",
    value: function addListener(eventType, listener, context) {
      return this._emitter.addListener(eventType, listener, context);
    }
  }, {
    key: "once",
    value: function once(eventType, listener, context) {
      return this._emitter.once(eventType, listener, context);
    }
  }, {
    key: "addRetroactiveListener",
    value: function addRetroactiveListener(eventType, listener, context) {
      var subscription = this._emitter.addListener(eventType, listener, context);

      this._emittingHeldEvents = true;

      this._eventHolder.emitToListener(eventType, listener, context);

      this._emittingHeldEvents = false;
      return subscription;
    }
  }, {
    key: "removeAllListeners",
    value: function removeAllListeners(eventType) {
      this._emitter.removeAllListeners(eventType);
    }
  }, {
    key: "removeCurrentListener",
    value: function removeCurrentListener() {
      this._emitter.removeCurrentListener();
    }
  }, {
    key: "listeners",
    value: function listeners(eventType) {
      return this._emitter.listeners(eventType);
    }
  }, {
    key: "emit",
    value: function emit(eventType) {
      var _this$_emitter;

      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      (_this$_emitter = this._emitter).emit.apply(_this$_emitter, [eventType].concat(args));
    }
  }, {
    key: "emitAndHold",
    value: function emitAndHold(eventType) {
      var _this$_eventHolder, _this$_emitter2;

      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
        args[_key2 - 1] = arguments[_key2];
      }

      this._currentEventToken = (_this$_eventHolder = this._eventHolder).holdEvent.apply(_this$_eventHolder, [eventType].concat(args));

      (_this$_emitter2 = this._emitter).emit.apply(_this$_emitter2, [eventType].concat(args));

      this._currentEventToken = null;
    }
  }, {
    key: "releaseCurrentEvent",
    value: function releaseCurrentEvent() {
      if (this._currentEventToken) {
        this._eventHolder.releaseEvent(this._currentEventToken);
      } else if (this._emittingHeldEvents) {
        this._eventHolder.releaseCurrentEvent();
      }
    }
  }, {
    key: "releaseHeldEventType",
    value: function releaseHeldEventType(eventType) {
      this._eventHolder.releaseEventType(eventType);
    }
  }]);
  return EventEmitterWithHolding;
}();

module.exports = EventEmitterWithHolding;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkV2ZW50RW1pdHRlcldpdGhIb2xkaW5nLmpzIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlcldpdGhIb2xkaW5nIiwiZW1pdHRlciIsImhvbGRlciIsIl9lbWl0dGVyIiwiX2V2ZW50SG9sZGVyIiwiX2N1cnJlbnRFdmVudFRva2VuIiwiX2VtaXR0aW5nSGVsZEV2ZW50cyIsImV2ZW50VHlwZSIsImxpc3RlbmVyIiwiY29udGV4dCIsImFkZExpc3RlbmVyIiwib25jZSIsInN1YnNjcmlwdGlvbiIsImVtaXRUb0xpc3RlbmVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmVtb3ZlQ3VycmVudExpc3RlbmVyIiwibGlzdGVuZXJzIiwiYXJncyIsImVtaXQiLCJob2xkRXZlbnQiLCJyZWxlYXNlRXZlbnQiLCJyZWxlYXNlQ3VycmVudEV2ZW50IiwicmVsZWFzZUV2ZW50VHlwZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVBOzs7Ozs7Ozs7O0lBa0JNQSx1QjtBQWFKLG1DQUFZQyxPQUFaLEVBQW1DQyxNQUFuQyxFQUF3RDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDdEQsU0FBS0MsUUFBTCxHQUFnQkYsT0FBaEI7QUFDQSxTQUFLRyxZQUFMLEdBQW9CRixNQUFwQjtBQUNBLFNBQUtHLGtCQUFMLEdBQTBCLElBQTFCO0FBQ0EsU0FBS0MsbUJBQUwsR0FBMkIsS0FBM0I7QUFDRDs7OztnQ0FLV0MsUyxFQUFtQkMsUSxFQUFvQkMsTyxFQUFrQjtBQUNuRSxhQUFPLEtBQUtOLFFBQUwsQ0FBY08sV0FBZCxDQUEwQkgsU0FBMUIsRUFBcUNDLFFBQXJDLEVBQStDQyxPQUEvQyxDQUFQO0FBQ0Q7Ozt5QkFLSUYsUyxFQUFtQkMsUSxFQUFvQkMsTyxFQUFrQjtBQUM1RCxhQUFPLEtBQUtOLFFBQUwsQ0FBY1EsSUFBZCxDQUFtQkosU0FBbkIsRUFBOEJDLFFBQTlCLEVBQXdDQyxPQUF4QyxDQUFQO0FBQ0Q7OzsyQ0F1QkNGLFMsRUFDQUMsUSxFQUNBQyxPLEVBQ3FCO0FBQ3JCLFVBQU1HLFlBQVksR0FBRyxLQUFLVCxRQUFMLENBQWNPLFdBQWQsQ0FDbkJILFNBRG1CLEVBRW5CQyxRQUZtQixFQUduQkMsT0FIbUIsQ0FBckI7O0FBTUEsV0FBS0gsbUJBQUwsR0FBMkIsSUFBM0I7O0FBQ0EsV0FBS0YsWUFBTCxDQUFrQlMsY0FBbEIsQ0FBaUNOLFNBQWpDLEVBQTRDQyxRQUE1QyxFQUFzREMsT0FBdEQ7O0FBQ0EsV0FBS0gsbUJBQUwsR0FBMkIsS0FBM0I7QUFFQSxhQUFPTSxZQUFQO0FBQ0Q7Ozt1Q0FLa0JMLFMsRUFBbUI7QUFDcEMsV0FBS0osUUFBTCxDQUFjVyxrQkFBZCxDQUFpQ1AsU0FBakM7QUFDRDs7OzRDQUt1QjtBQUN0QixXQUFLSixRQUFMLENBQWNZLHFCQUFkO0FBQ0Q7Ozs4QkFLU1IsUyxFQUF5RDtBQUNqRSxhQUFPLEtBQUtKLFFBQUwsQ0FBY2EsU0FBZCxDQUF3QlQsU0FBeEIsQ0FBUDtBQUNEOzs7eUJBS0lBLFMsRUFBaUM7QUFBQTs7QUFBQSx3Q0FBWFUsSUFBVztBQUFYQSxRQUFBQSxJQUFXO0FBQUE7O0FBQ3BDLDZCQUFLZCxRQUFMLEVBQWNlLElBQWQsd0JBQW1CWCxTQUFuQixTQUFpQ1UsSUFBakM7QUFDRDs7O2dDQWlCV1YsUyxFQUFpQztBQUFBOztBQUFBLHlDQUFYVSxJQUFXO0FBQVhBLFFBQUFBLElBQVc7QUFBQTs7QUFDM0MsV0FBS1osa0JBQUwsR0FBMEIsMkJBQUtELFlBQUwsRUFBa0JlLFNBQWxCLDRCQUE0QlosU0FBNUIsU0FBMENVLElBQTFDLEVBQTFCOztBQUNBLDhCQUFLZCxRQUFMLEVBQWNlLElBQWQseUJBQW1CWCxTQUFuQixTQUFpQ1UsSUFBakM7O0FBQ0EsV0FBS1osa0JBQUwsR0FBMEIsSUFBMUI7QUFDRDs7OzBDQUtxQjtBQUNwQixVQUFJLEtBQUtBLGtCQUFULEVBQTZCO0FBQzNCLGFBQUtELFlBQUwsQ0FBa0JnQixZQUFsQixDQUErQixLQUFLZixrQkFBcEM7QUFDRCxPQUZELE1BRU8sSUFBSSxLQUFLQyxtQkFBVCxFQUE4QjtBQUNuQyxhQUFLRixZQUFMLENBQWtCaUIsbUJBQWxCO0FBQ0Q7QUFDRjs7O3lDQU1vQmQsUyxFQUFtQjtBQUN0QyxXQUFLSCxZQUFMLENBQWtCa0IsZ0JBQWxCLENBQW1DZixTQUFuQztBQUNEOzs7OztBQUdIZ0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCeEIsdUJBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAZm9ybWF0XG4gKiBAZmxvd1xuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHR5cGUgRW1pdHRlclN1YnNjcmlwdGlvbiBmcm9tICdFbWl0dGVyU3Vic2NyaXB0aW9uJztcbmltcG9ydCB0eXBlIEV2ZW50RW1pdHRlciBmcm9tICdFdmVudEVtaXR0ZXInO1xuaW1wb3J0IHR5cGUgRXZlbnRIb2xkZXIgZnJvbSAnRXZlbnRIb2xkZXInO1xuXG4vKipcbiAqIEBjbGFzcyBFdmVudEVtaXR0ZXJXaXRoSG9sZGluZ1xuICogQGRlc2NyaXB0aW9uXG4gKiBBbiBFdmVudEVtaXR0ZXJXaXRoSG9sZGluZyBkZWNvcmF0ZXMgYW4gZXZlbnQgZW1pdHRlciBhbmQgZW5hYmxlcyBvbmUgdG9cbiAqIFwiaG9sZFwiIG9yIGNhY2hlIGV2ZW50cyBhbmQgdGhlbiBoYXZlIGEgaGFuZGxlciByZWdpc3RlciBsYXRlciB0byBhY3R1YWxseVxuICogaGFuZGxlIHRoZW0uXG4gKlxuICogVGhpcyBpcyBzZXBhcmF0ZWQgaW50byBpdHMgb3duIGRlY29yYXRvciBzbyB0aGF0IG9ubHkgdGhvc2Ugd2hvIHdhbnQgdG8gdXNlXG4gKiB0aGUgaG9sZGluZyBmdW5jdGlvbmFsaXR5IGhhdmUgdG8gYW5kIG90aGVycyBjYW4ganVzdCB1c2UgYW4gZW1pdHRlci4gU2luY2VcbiAqIGl0IGltcGxlbWVudHMgdGhlIGVtaXR0ZXIgaW50ZXJmYWNlIGl0IGNhbiBhbHNvIGJlIGNvbWJpbmVkIHdpdGggYW55dGhpbmdcbiAqIHRoYXQgdXNlcyBhbiBlbWl0dGVyLlxuICovXG5jbGFzcyBFdmVudEVtaXR0ZXJXaXRoSG9sZGluZyB7XG4gIF9lbWl0dGVyOiBFdmVudEVtaXR0ZXI7XG4gIF9ldmVudEhvbGRlcjogRXZlbnRIb2xkZXI7XG4gIF9jdXJyZW50RXZlbnRUb2tlbjogP09iamVjdDtcbiAgX2VtaXR0aW5nSGVsZEV2ZW50czogYm9vbGVhbjtcblxuICAvKipcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBlbWl0dGVyIC0gVGhlIG9iamVjdCByZXNwb25zaWJsZSBmb3IgZW1pdHRpbmcgdGhlIGFjdHVhbFxuICAgKiAgIGV2ZW50cy5cbiAgICogQHBhcmFtIHtvYmplY3R9IGhvbGRlciAtIFRoZSBldmVudCBob2xkZXIgdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgaG9sZGluZ1xuICAgKiAgIGFuZCB0aGVuIGVtaXR0aW5nIGhlbGQgZXZlbnRzLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZW1pdHRlcjogRXZlbnRFbWl0dGVyLCBob2xkZXI6IEV2ZW50SG9sZGVyKSB7XG4gICAgdGhpcy5fZW1pdHRlciA9IGVtaXR0ZXI7XG4gICAgdGhpcy5fZXZlbnRIb2xkZXIgPSBob2xkZXI7XG4gICAgdGhpcy5fY3VycmVudEV2ZW50VG9rZW4gPSBudWxsO1xuICAgIHRoaXMuX2VtaXR0aW5nSGVsZEV2ZW50cyA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgRXZlbnRFbWl0dGVyI2FkZExpc3RlbmVyXG4gICAqL1xuICBhZGRMaXN0ZW5lcihldmVudFR5cGU6IHN0cmluZywgbGlzdGVuZXI6IEZ1bmN0aW9uLCBjb250ZXh0OiA/T2JqZWN0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2VtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lciwgY29udGV4dCk7XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBFdmVudEVtaXR0ZXIjb25jZVxuICAgKi9cbiAgb25jZShldmVudFR5cGU6IHN0cmluZywgbGlzdGVuZXI6IEZ1bmN0aW9uLCBjb250ZXh0OiA/T2JqZWN0KSB7XG4gICAgcmV0dXJuIHRoaXMuX2VtaXR0ZXIub25jZShldmVudFR5cGUsIGxpc3RlbmVyLCBjb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgbGlzdGVuZXIgdG8gYmUgaW52b2tlZCB3aGVuIGV2ZW50cyBvZiB0aGUgc3BlY2lmaWVkIHR5cGUgYXJlXG4gICAqIGVtaXR0ZWQuIEFuIG9wdGlvbmFsIGNhbGxpbmcgY29udGV4dCBtYXkgYmUgcHJvdmlkZWQuIFRoZSBkYXRhIGFyZ3VtZW50c1xuICAgKiBlbWl0dGVkIHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBsaXN0ZW5lciBmdW5jdGlvbi4gSW4gYWRkaXRpb24gdG8gc3Vic2NyaWJpbmdcbiAgICogdG8gYWxsIHN1YnNlcXVlbnQgZXZlbnRzLCB0aGlzIG1ldGhvZCB3aWxsIGFsc28gaGFuZGxlIGFueSBldmVudHMgdGhhdCBoYXZlXG4gICAqIGFscmVhZHkgYmVlbiBlbWl0dGVkLCBoZWxkLCBhbmQgbm90IHJlbGVhc2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRUeXBlIC0gTmFtZSBvZiB0aGUgZXZlbnQgdG8gbGlzdGVuIHRvXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGxpc3RlbmVyIC0gRnVuY3Rpb24gdG8gaW52b2tlIHdoZW4gdGhlIHNwZWNpZmllZCBldmVudCBpc1xuICAgKiAgIGVtaXR0ZWRcbiAgICogQHBhcmFtIHsqfSBjb250ZXh0IC0gT3B0aW9uYWwgY29udGV4dCBvYmplY3QgdG8gdXNlIHdoZW4gaW52b2tpbmcgdGhlXG4gICAqICAgbGlzdGVuZXJcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogICBlbWl0dGVyLmVtaXRBbmRIb2xkKCdzb21lRXZlbnQnLCAnYWJjJyk7XG4gICAqXG4gICAqICAgZW1pdHRlci5hZGRSZXRyb2FjdGl2ZUxpc3RlbmVyKCdzb21lRXZlbnQnLCBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAqICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICogICB9KTsgLy8gbG9ncyAnYWJjJ1xuICAgKi9cbiAgYWRkUmV0cm9hY3RpdmVMaXN0ZW5lcihcbiAgICBldmVudFR5cGU6IHN0cmluZyxcbiAgICBsaXN0ZW5lcjogRnVuY3Rpb24sXG4gICAgY29udGV4dDogP09iamVjdCxcbiAgKTogRW1pdHRlclN1YnNjcmlwdGlvbiB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gdGhpcy5fZW1pdHRlci5hZGRMaXN0ZW5lcihcbiAgICAgIGV2ZW50VHlwZSxcbiAgICAgIGxpc3RlbmVyLFxuICAgICAgY29udGV4dCxcbiAgICApO1xuXG4gICAgdGhpcy5fZW1pdHRpbmdIZWxkRXZlbnRzID0gdHJ1ZTtcbiAgICB0aGlzLl9ldmVudEhvbGRlci5lbWl0VG9MaXN0ZW5lcihldmVudFR5cGUsIGxpc3RlbmVyLCBjb250ZXh0KTtcbiAgICB0aGlzLl9lbWl0dGluZ0hlbGRFdmVudHMgPSBmYWxzZTtcblxuICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBFdmVudEVtaXR0ZXIjcmVtb3ZlQWxsTGlzdGVuZXJzXG4gICAqL1xuICByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnRUeXBlOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyhldmVudFR5cGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgRXZlbnRFbWl0dGVyI3JlbW92ZUN1cnJlbnRMaXN0ZW5lclxuICAgKi9cbiAgcmVtb3ZlQ3VycmVudExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlQ3VycmVudExpc3RlbmVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBFdmVudEVtaXR0ZXIjbGlzdGVuZXJzXG4gICAqL1xuICBsaXN0ZW5lcnMoZXZlbnRUeXBlOiBzdHJpbmcpIC8qIFRPRE86IEFubm90YXRlIHJldHVybiB0eXBlIGhlcmUgKi8ge1xuICAgIHJldHVybiB0aGlzLl9lbWl0dGVyLmxpc3RlbmVycyhldmVudFR5cGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgRXZlbnRFbWl0dGVyI2VtaXRcbiAgICovXG4gIGVtaXQoZXZlbnRUeXBlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueSkge1xuICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChldmVudFR5cGUsIC4uLmFyZ3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRzIGFuIGV2ZW50IG9mIHRoZSBnaXZlbiB0eXBlIHdpdGggdGhlIGdpdmVuIGRhdGEsIGFuZCBob2xkcyB0aGF0IGV2ZW50XG4gICAqIGluIG9yZGVyIHRvIGJlIGFibGUgdG8gZGlzcGF0Y2ggaXQgdG8gYSBsYXRlciBzdWJzY3JpYmVyIHdoZW4gdGhleSBzYXkgdGhleVxuICAgKiB3YW50IHRvIGhhbmRsZSBoZWxkIGV2ZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50VHlwZSAtIE5hbWUgb2YgdGhlIGV2ZW50IHRvIGVtaXRcbiAgICogQHBhcmFtIHsuLi4qfSBBcmJpdHJhcnkgYXJndW1lbnRzIHRvIGJlIHBhc3NlZCB0byBlYWNoIHJlZ2lzdGVyZWQgbGlzdGVuZXJcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogICBlbWl0dGVyLmVtaXRBbmRIb2xkKCdzb21lRXZlbnQnLCAnYWJjJyk7XG4gICAqXG4gICAqICAgZW1pdHRlci5hZGRSZXRyb2FjdGl2ZUxpc3RlbmVyKCdzb21lRXZlbnQnLCBmdW5jdGlvbihtZXNzYWdlKSB7XG4gICAqICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICogICB9KTsgLy8gbG9ncyAnYWJjJ1xuICAgKi9cbiAgZW1pdEFuZEhvbGQoZXZlbnRUeXBlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueSkge1xuICAgIHRoaXMuX2N1cnJlbnRFdmVudFRva2VuID0gdGhpcy5fZXZlbnRIb2xkZXIuaG9sZEV2ZW50KGV2ZW50VHlwZSwgLi4uYXJncyk7XG4gICAgdGhpcy5fZW1pdHRlci5lbWl0KGV2ZW50VHlwZSwgLi4uYXJncyk7XG4gICAgdGhpcy5fY3VycmVudEV2ZW50VG9rZW4gPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEBzZWUgRXZlbnRIb2xkZXIjcmVsZWFzZUN1cnJlbnRFdmVudFxuICAgKi9cbiAgcmVsZWFzZUN1cnJlbnRFdmVudCgpIHtcbiAgICBpZiAodGhpcy5fY3VycmVudEV2ZW50VG9rZW4pIHtcbiAgICAgIHRoaXMuX2V2ZW50SG9sZGVyLnJlbGVhc2VFdmVudCh0aGlzLl9jdXJyZW50RXZlbnRUb2tlbik7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9lbWl0dGluZ0hlbGRFdmVudHMpIHtcbiAgICAgIHRoaXMuX2V2ZW50SG9sZGVyLnJlbGVhc2VDdXJyZW50RXZlbnQoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHNlZSBFdmVudEhvbGRlciNyZWxlYXNlRXZlbnRUeXBlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGVcbiAgICovXG4gIHJlbGVhc2VIZWxkRXZlbnRUeXBlKGV2ZW50VHlwZTogc3RyaW5nKSB7XG4gICAgdGhpcy5fZXZlbnRIb2xkZXIucmVsZWFzZUV2ZW50VHlwZShldmVudFR5cGUpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyV2l0aEhvbGRpbmc7XG4iXX0=